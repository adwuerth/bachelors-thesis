\chapter{Abstract}

Userspace storage drivers like SPDK rely on Direct Memory Access to read or write to memory. DMA bypasses the CPU and directly performs the I/O operation on the memory. This can be a huge security risk as malicious firmware or faulty operations could lead to detrimental access to memory, potentially extracting data or corrupting the system. The workaround to this is the IOMMU, which maps physical to I/O virtual addresses, similar to the CPU's MMU. As address translation can be a memory and performance intensive operation, it is necessary to look at how impactful the IOMMU is on the whole driver performance.
In this thesis we implement IOMMU support for a userspace NVMe driver written in Rust and probe the performance, directly comparing using DMA with physical addresses and with IOMMU I/O virtual addresses. We show that it is possible that with the use of \qty{2}{\mebi\byte} pages it is possible to achieve practically equivalent performance, with increased system security and being able to run the driver with no root permissions. Additionally, we implement support for IOMMUFD, a modern replacement for the VFIO IOMMU Interface.